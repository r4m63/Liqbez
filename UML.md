# Язык моделирования UML (Unified Modeling Language)

**Графический язык моделирования общего назначения**, предназначенный для:

1. **Спецификации**
2. **Визуализации**
3. **Проектирования**
4. **Документирования** всех артефактов, создаваемых при разработке программных систем.

- UML — это **знаковая система** (подобно языку программирования или письменности).
- Использует **специальные графические конструкции**, понятные всем участникам проекта.
- Облегчает **взаимопонимание** между заказчиком, аналитиком, архитектором и программистом.

- Зафиксировать, что **система должна делать**.
- Помогает определить:
    - Поведение
    - Ограничения
    - Связанные компоненты
- Используется для **уточнения требований** между всеми заинтересованными сторонами (стейкхолдерами).

- Перевод описания системы в **наглядную форму**.
- Диаграммы UML упрощают:
    - Понимание сложных взаимосвязей
    - Обсуждение архитектуры и логики
    - Принятие решений

- Используется для:
    - Архитектурного проектирования
    - Формирования шаблонов кода
- Поддерживается CASE-средствами, часто с возможностью генерации кода по диаграммам.

- Диаграммы UML входят в состав проектной документации.
- Обеспечивают **прозрачность** и **понятность** всех этапов разработки.
- Позволяют эффективно вести сопровождение и доработку ПО.

---

- Стал промышленным стандартом в 1998 году.
- Используется для **графического представления** различных аспектов разработки ПО.
- Визуализировать проектируемую систему.
- Облегчить понимание сложной информации всеми участниками проекта.
- Служит общим языком между заказчиками, архитекторами, аналитиками и разработчиками.

- UML используется:
    - При анализе требований
    - В архитектурном проектировании
    - Для генерации кода
    - Для документирования и обратной инженерии

- Унифицирован, стандартизирован, понятен всем участникам команды.
- Поддерживается большинством CASE-средств (например, IBM Rational, Visual Paradigm, Enterprise Architect).

---

## Структурные Диаграммы UML

## Диаграмма классов

Классы и интерфейсы, их атрибуты и методы

UML-диаграмма классов используется — чтобы «нарисовать» схему классов ПО.

![uml class diagram](/assets/uml-classdiagram.png)

**Доменная модель** — это UML-диаграмма классов, но очень упрощённая, без деталей реализации. Она показывает только те
сущности и связи, которые важны для понимания предметной области, и служит основой для дальнейшего проектирования и
согласования с заказчиком.

## Диаграмма компонентов

- Высокоуровневые модули/библиотеки/сервисы (компоненты)
- Их интерфейсы («предоставляемые»/«требуемые» порты)
- Связи «поставляется»/«потребляет»

![uml class diagram](/assets/uml-componentdeiagram.jpg)

## Диаграмма пакетов

- Группировку классов и компонентов в пакеты
- Зависимости между пакетами

![uml class diagram](/assets/uml-packagediagram.webp)

## Диаграмма развёртывания

- Физические узлы (серверы, контейнеры, устройства)
- Размещение (deployment) артефактов (.jar, .war, исполняемых модулей) на узлах
- Сетевые соединения между узлами

![uml class diagram](/assets/uml-deploydiagram.jpeg)

## Диаграмма объектов

– Снимок (instance snapshot) классов в конкретный момент времени
– Конкретные объекты (экземпляры) и их связи

## Диаграмма композитной структуры (Composite Structure Diagram)

– Внутреннюю структуру компонентов или классов
– Вложенные части (parts) и их порты/интерфейсы
– Связи (connectors) между частями внутри композита

---

## Поведенческие Диаграммы UML

## Диаграмма вариантов использования (Use Case Diagram)

Описание поведения системы с точки зрения её пользователей (актеров) и основных сценариев (use-cases)

- Акторы (Actors)
- Варианты использования (Use Cases)
- Связи (Associations)
- «Include» — когда один сценарий всегда вызывает под-сценарий
- «Extend» — когда один сценарий дополняет другой только при определённых условиях

![uml class diagram](/assets/uml-usecase.png)

**Include** (включение) используют, когда один сценарий всегда включает в себя другой сценарий как часть своего
выполнения

(обязательное вложение: сценарий A всегда выполняет сценарий B)

`Оформить заказ  --«include»-->  Проверить корзину`

**Extend** (расширение) используют, когда один сценарий опционально дополняет поведение другого при выполнении
определённого
условия

(опциональное расширение: сценарий B может добавить поведение к A при некоторых условиях)

`Снять наличные  --«extend»-->  Запрос чека  [условие: пользователь выбрал “распечатать чек”]`

## Диаграмма активности

## Диаграмма деятельности

## Диаграмма последовательностей (Sequence Diagram)

## Диаграмма состояний

## Диаграммы взаимодействия UML

## Диаграмма коммуникации (Communication Diagram)

## Диаграмма временных интервалов (Timing Diagram)

## Обзорная диаграмма взаимодействия (Interaction Overview Diagram)

---

## Элементы UML

### Сущности

- Основные строительные блоки моделей UML.
- Представляют **объекты, классы, компоненты, интерфейсы** и т.п.
- Являются «существительными» UML-языка.

Структурные сущности описывают **статическую структуру системы** — её компоненты, связи и артефакты.

- Поведенческие сущности моделируют **поведение объектов во времени** и взаимодействие с пользователями.
- Они составляют основу **поведенческих диаграмм** UML:
    - Диаграмма состояний
    - Диаграмма деятельности
    - Диаграмма прецедентов
- Дополнительные сущности (пакет, комментарий) **не влияют на поведение**, но важны для **структуры и читаемости**
  модели.

Основные структурные сущности:

- Позволяют описывать архитектуру системы в разрезе её **компонентов**, **объектов** и **взаимосвязей**.
- Служат базой для **структурных UML-диаграмм**:
    - Диаграмма классов
    - Диаграмма компонентов
    - Диаграмма развёртывания (узлов)

#### 1. **Объект (Object)**

- Экземпляр класса с конкретным состоянием.
- Пример: `:Мой любимый пирожок` — конкретный объект из класса "Пирожок".

#### 2. **Класс (Class)**

- Множество объектов с общими свойствами и поведением.
- Определяет структуру и поведение объектов.
- Пример: `Пирожок`, `abstract Еда`.

#### 3. **Интерфейс (Interface)**

- Набор операций, предоставляемый компонентом или классом.
- Пример: `<<interface>> Подогреватель` — интерфейс, который может реализовывать разные приборы.

#### 4. **Кооперация (Collaboration)**

- Модель взаимодействия объектов для достижения общей цели.
- Пример: `Кухня` — как взаимодействие бабушки, пирожков, подогревателя.

#### 5. **Действующее лицо (Actor)**

- Внешняя по отношению к системе сущность, взаимодействующая с ней.
- Пример: `Бабушка` как пользователь системы.

#### 6. **Компонент (Component)**

- Модуль системы, реализующий интерфейсы или содержащий код.
- Пример: `<<component>> PostgreSQL`, `http HA-proxy`.

#### 7. **Артефакт (Artifact)**

- Физический результат деятельности: код, библиотека, документ.
- Пример: `<<artifact>> Концепция`, `makesgood.jar`.

#### 8. **Узел (Node)**

- Вычислительный ресурс, размещающий компоненты и артефакты.
- Пример: `Сервер`.

Поведенческие сущности:

Поведенческие сущности отражают **динамическое поведение** системы и описывают, **что делает система и как она реагирует
** на события во времени.

#### 🔸 Прецедент использования (Use Case)

- Описывает **сценарий взаимодействия** между пользователем (актором) и системой.
- Показывает, какие **действия доступны** пользователю.
- Пример: `Заказать`, `Рекомендовать пирожок`.

#### 🔸 Состояние (State)

- Отражает **внутреннее состояние** объекта в определённый момент времени.
- Может зависеть от переменных и предыдущих действий.
- Пример: `Голоден`, `Принятие пищи`.

#### 🔸 Деятельность (Activity)

- Множество взаимосвязанных действий, **логически связанных в процессе**.
- Используется для **моделирования бизнес-процессов** или алгоритмов.
- Пример: `Выпечка`.

#### 🔸 Действие (Action)

- **Минимальное атомарное вычисление**.
- Используется внутри деятельности.
- Пример: `man.eat(pie);`

### Отношения

- Показывают, как **семантически связаны сущности**.
- Типы: ассоциации, обобщения, зависимости, композиции и агрегации.

### Диаграммы

- Визуальные представления модели UML.
- Отображают, **что, как и почему** делает система.
- Покрывают как структурные (структура системы), так и поведенческие аспекты (поведение системы).

Дополнительные сущности:

#### 🔹 Пакет (Package)

- Используется для **логической группировки** элементов модели.
- Позволяет **структурировать** диаграммы и облегчать навигацию.

#### 🔹 Комментарий (Comment)

- Представлен в виде заметки, соединённой пунктирной линией с комментируемым элементом.
- Предназначен для **объяснений, аннотаций**, повышения читаемости диаграмм.
- Пример: «Так это вы таскали мои плюшки?!»

Связь с объектно-ориентированным подходом:

- UML отражает **ООП-парадигму**, в которой классы, объекты и интерфейсы — ключевые абстракции.
- Сущности — строительные блоки архитектуры на всех уровнях проектирования ПО.

---

## 4+1 View Model

Это структурированный способ показать архитектуру сложной системы во всём её многообразии, разделив описание на пять
взаимодополняющих «видов»:

1. **Логическая (Logical view)** — структура классов
2. **Процессная (Process view)** — потоки и параллелизм
3. **Физическая (Deployment view)** — размещение компонентов
4. **Разработческая (Development view)** — структура модулей
5. **Сценарии (Use Case view)** — потребности пользователя

## Отношения в UML

Отношения (relationships) описывают **связи между сущностями модели UML** и определяют, как они взаимодействуют.

### Основные типы отношений:

### 1. **Зависимость (Dependency)**

`──────▶` (пунктирная стрелка)

- Один элемент **зависит от другого**: изменение целевого элемента влияет на исходный.
- Пример: класс использует другой класс в методе.

---

### 2. **Ассоциация (Association)**

`────────` (прямая линия)

- Элемент **связан** с другим: связь может быть одно- или двусторонней.
- Часто используется между классами.
- Имеет направления, кратности и роли.

#### ➕ Варианты ассоциации:

##### 🔸 Агрегация (Aggregation)

`◁──────` (пустой ромб)

- «Часть-целое», но части могут **существовать независимо**.
- Пример: `Автомобиль ◁─ Колёса`.

##### 🔸 Композиция (Composition)

`⬥──────` (закрашенный ромб)

- Жёсткая агрегация: часть **не может существовать отдельно** от целого.
- Пример: `Автомобиль ⬥─ Двигатель`.

##### 🔸 Включение (Inclusion)

`⊕──────`

- Используется для **диаграмм пакетов**. Показывает, что один элемент содержит другой.

---

### 3. **Обобщение (Generalization)**

`▷──────` (стрелка с пустым треугольником)

- Указывает на **наследование**.
- Исходный элемент **наследует** поведение и структуру от целевого.
- Пример: `Кот ◁─ Животное`.

---

### 4. **Реализация (Realization)**

`⋯▷──────` (пунктир с треугольником)

- Один элемент **реализует интерфейс** другого.
- Пример: Класс реализует интерфейс.

---

### Важно

- Отношения можно **уточнять** с помощью **стереотипов** (`<<include>>`, `<<extend>>`, `<<trace>>`, и др.).
- Использование правильного типа отношения помогает **точнее выразить смысл и структуру модели**.

## 📊 Диаграммы UML

UML предоставляет разные типы диаграмм для визуализации различных аспектов системы. Рассмотрим 3 ключевые:

### 1. 🧱 Диаграмма классов (Class Diagram)

**Назначение:**  
Отражает структуру предметной области через классы, их атрибуты, методы и связи между ними.

**Особенности:**

- Используется для моделирования **доменной модели**.
- Показывает **наследование**, **ассоциации**, **агрегации**, **композиции**.
- У каждого класса могут быть подтипы заказов, исполнители, статистика и т.п.
- Визуализирует: поля классов, связи между ними (1:N, N:M), области видимости, роли.

📌 **Пример:** заказ на увеселительные мероприятия, с разными статусами заказов, детьми, исполнителями (Карлсон и др.)

### 2. 🔄 Диаграмма состояний (State Machine Diagram)

**Назначение:**  
Определяет возможные состояния объекта и переходы между ними в ответ на события.

**Особенности:**

- Используется для **авторизации и аутентификации** пользователей.
- Каждое состояние (например, `Unauthorized`, `Authorized`) — это этап в жизненном цикле объекта.
- Переходы указывают условия (`if`, `request`, `login/password`).
- Начальное и конечное состояние отмечены специальными символами.

📌 Пример: процесс входа пользователя на сайт.

### 3. 🖥️ Диаграмма размещения (Deployment Diagram)

**Назначение:**  
Отражает **физическое размещение компонентов** программной системы на устройстве или сервере.

**Особенности:**

- Моделирует архитектуру развертывания ПО: **устройства, приложения, базы данных**.
- Включает: `<<device>>`, `<<application>>`, `<<database>>` и т.д.
- Показывает: как клиент взаимодействует с сервером, какие протоколы используются (например, HTTP, JDBC).

📌 Пример: клиент Firefox отправляет запрос серверу с Solaris10, где размещён `Karlson.war` и `Oracle DB`.

### 🔚 Вывод:

| Диаграмма      | Назначение                         | Главные элементы                   |
|----------------|------------------------------------|------------------------------------|
| **Классов**    | Структура и связи между сущностями | Классы, атрибуты, методы, связи    |
| **Состояний**  | Поведение объекта во времени       | Состояния, переходы, события       |
| **Размещения** | Архитектура развертывания системы  | Устройства, приложения, соединения |

> Все три типа диаграмм **взаимодополняют друг друга**, создавая целостную картину проекта на всех этапах разработки.
